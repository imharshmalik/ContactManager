<!doctype html>
<html lang="en" th:replace="~{user_base::Layout(~{::section})}">

<head>
	<meta charset="UTF-8" />
	<title th:text="${title}"></title>
</head>

<body>
	<section>
		<div class="container col-md-8 offset-md-2 mr-2">
			<div class="card">
				<div class="card-body" th:if="${currentUser}">
					<h2 class="text-center mb-4" style="text-decoration: underline;">Your Profile</h2>
					<div class="container-fluid mt-1 text-center">
						<div class="row">
							<div class="col">
								<img th:src="@{'/images/' + ${currentUser.imageUrl}}" alt="No Profile Picture!" class="user_profile_picture" />
								<br>
								<div class="table-responsive">
									<table class="table table-striped mt-5">
									<thead>
										<tr>
											<th scope="col" >Name</th>
											<th scope="col" th:text="${currentUser.name}"></th>
										</tr>
									</thead>
									<tbody>
										<tr>
											<th scope="row">Email</th>											
											<td th:text="${currentUser.email}"></td>										
										</tr>
										<tr>
											<th scope="row">Password</th>											
											<td th:text="${currentUser.password}"></td>										
										</tr>
										<tr>
											<th scope="row">Role</th>												
											<td th:text="${currentUser.role}"></td>										
										</tr>
										<tr>
											<th scope="row">About</th>											
											<td th:text="${currentUser.about}"></td>										
										</tr>						
									</tbody>
								</table>
								</div>
								<div class="container mt-5 p-3">
									<form method="post" th:action="@{'/user/update-contact/' + ${currentUser.id}}"><button type="submit" class="btn btn-warning btn-lg">Update Profile</button></form>
									<br>
									<a th:onclick="|deleteContact(${currentUser.id})|" class="btn btn-danger btn-lg">Delete Profile</a>	
								</div>															
							</div>
						</div>
					</div>
				</div>
				<h1 class="text-center p-3 bg-danger" th:unless="${currentUser}">Error</h1>
			</div>
		</div>
		<!-- SCRIPT TO MAKE LINK ACTIVE -->
		<script>
			$(document).ready(() =>
			{
				$(".item").removeClass("active-link");
				$("#profile-link").addClass("active-link");
			});
		</script>
	</section>
</body>

</html>